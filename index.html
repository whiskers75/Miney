<!DOCTYPE html> <!-- HTML5 declaration - don't remove this or else the page will mess up!! -->


<!--

whiskers75/miney website HTML
Commented out for your pleasure.
Open Source - licenced under the GPLv2 or any later version at the user's discretion.
Feel free to copy some of the stuff I've used here.
Enjoy!
- whiskers75


-->



<html lang="en"> <!-- Start of HTML tag -->


<head> <!-- HEAD -->

<!-- Narrow page classes! (Taken from Bootstrap's example) -->
<style type="text/css">
     .container-narrow {
        margin: 0 auto;
        max-width: 800px;
      }
      .container-narrow > hr {
        margin: 10px 0;
      }
</style>


<title>whiskers75/miney</title> <!-- browser page title -->

<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen"> <!-- include Bootstrap -->

</head> <!-- END OF HEAD -->

<body> <!-- BODY -->
<div class="container-narrow"> <!--  Begin narrow page style documented on line 10 -->
      
<div class="masthead"> <!-- Open navbar-->
        
<ul class="nav nav-pills pull-right"> <!-- Open class for buttons/links -->

<li class="active">

 <!-- Template for future links         <li><a href="#">About</a></li> -->

<li><button class="btn btn-link" data-toggle="modal" data-target="#login-modal">Login</button></li> <!-- Login button -->
<li><button class="btn btn-link">Register</button></li>
<li><button class='btn btn-link' disabled id='loginmsg'>Not logged in</button></li>
<li><button class='btn btn-link' disabled><i class='icon-signal' id='loginicon'></i></button>
<button class='btn btn-link' disabled id='connstatus'>Connecting</p></li>
</ul> <!-- closes class for buttons/links -->


<div id="login-modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true"> <!-- Start login modal -->
<div class="modal-header"> <!-- Modal header -->
<h3> Login </h3>
</div>
<div class="modal-body">
<form name="loginform">
    <fieldset>
    <div class='form-actions'>
    <label>Username:</label><input name='username' type="text" placeholder="Username">
    <label>Password:</label><input name='password' type="password" placeholder="password">
    <button type="submit" class='btn btn-success btn-block' onClick='login()' data-dismiss="modal">Login</button>
    </div>
    </fieldset>
</form>
</div>
</div> <!-- Closes login modal -->


<h3 class="muted">whiskers75/Miney   <span class="label label-success">Open Source!</span></h3> <!-- Title -->
</div> <!-- I bet this closes masthead, but I can't be bothered to check ATM -->

<iframe id="main" height="800" width="800" frameborder="no"></iframe>
</iframe><!-- The main iframe for display of data -->
</li><!-- closes <li class="active"> -->
<script src="http://miney.herokuapp.com/socket.io/socket.io.js"></script>
<script type='text/javascript'>
var main = document.getElementById('main').contentDocument;
setTimeout(function() {
    main.write('<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">\n');
}, 10);
function updateLogin(name) {
    document.getElementById('loginmsg').innerHTML = 'Logged in as: '+ name;
}
function loginTest() {
    updateLogin('TestUser');
}
var conn = false;
function connected() {
    document.getElementById('loginicon').className = 'icon-ok'
    document.getElementById('connstatus').innerHTML = 'Connected'
    conn = true;
    main.close();
    main.open();
    main.write('<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">\n');
}
function connecting() {
    document.getElementById('loginicon').className = 'icon-signal'
    document.getElementById('connstatus').innerHTML = 'Connecting'
    conn = false;
    main.close();
    main.open();
    main.write('<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">\n<h1>Server connection in progress</h2>\n<h5>Icons courtesy of Glyphicons and Bootstrap.</h5>\n');
}
var socket = io.connect('http://miney.herokuapp.com/');
socket.on('ready', function() {
    connected();
});
socket.on('end', function() {
    connecting();
    socket = io.connect('http://miney.herokuapp.com/');
});
socket.on('write', function(data) {
    main.write(data.data);
});
socket.on('flush', function() {
    main.close();
    main.open();
    main.write('<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">\n');
});
function buttonPressed(id) {
    socket.emit('button', {id: id});
}
</script>
<a href="https://github.com/whiskers75/Miney"> <!-- BEGIN GITHUB RIBBON CODE -->
<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub">
</a> <!-- END GITHUB RIBBON CODE -->

</div> <!-- I *think* this closes container-narrow -->
<script src="http://code.jquery.com/jquery-latest.js"></script> <!-- Require jQuery, a popular JS library -->
<script src='bootstrap/js/bootstrap.js' type='text/javascript'></script> <!-- Le Bootstrap JS -->
</body> <!-- END BODY -->
</html> <!-- EOF -->